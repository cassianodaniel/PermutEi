{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\DathApp\\\\PermutEi\\\\PermutEi\\\\frontend\\\\src\\\\pages\\\\Hall\\\\index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./style.css\";\nimport { Table, Card, CardBody, Jumbotron, Container, Button, Input } from \"reactstrap\";\nimport api from '../../services/api';\n\nconst Hall = () => {\n  function handleEditar(e) {\n    localStorage.setItem('user', JSON.stringify(userMaster)); //history.push('/editarperfil')\n  }\n\n  const history = useHistory();\n  const [users, setUsers] = useState([]);\n  const [userMaster, setUserMaster] = useState({});\n  const [search, setSearch] = useState(\"\");\n\n  const handleSearchArray = (e, string) => {\n    //history.push('/filtrar');\n    e.preventDefault();\n    let match = [];\n    users.map(item => {\n      console.log(\"item.nome: \" + item.nome);\n      console.log(\"string:\" + string);\n\n      if (item.nome.toUpperCase().includes(string.toUpperCase())) {\n        match.push(item);\n      } else {\n        alert(\"NADA ENCONTRADO\");\n      }\n    });\n    alert('match:' + match);\n  };\n\n  useEffect(() => {\n    const login = JSON.stringify(localStorage.getItem('login'));\n    console.log(login);\n    api.get('/users').then(response => {\n      const data = [];\n      const resp = response.data;\n      console.log(resp);\n      let userMaster = {};\n\n      if (login === \"null\") {\n        history.push(\"/logon\");\n      }\n\n      resp.map(user => {\n        console.log(user.login);\n\n        if (JSON.stringify(user.login) === login) {\n          userMaster = user;\n          setUserMaster(user);\n        }\n      });\n      console.log(userMaster);\n      resp.map(user => {\n        if (user.orgao === userMaster.orgao && user.login !== userMaster.login) {\n          data.push(user);\n        }\n      });\n      console.log(data);\n      setUsers(data);\n    });\n  }, []);\n\n  function chamaNoZap(numero) {\n    const originalstringtowpp = \"https://wa.me/5583998304290?text=Olá,%20te%20encontrei%20no%20PermutEi%20e%20tenho%20interesse%20pela%20sua%20proposta!\";\n    const firstarraytostringwpp = originalstringtowpp.split(\"55\");\n    const secondarraytostringwpp = originalstringtowpp.split(\"?\");\n    const usernumbertonewstringwpp = numero;\n    const finalarraytotheuserstelephonewpp = firstarraytostringwpp[0] + \"55\" + usernumbertonewstringwpp + \"?\" + secondarraytostringwpp[1];\n    console.log(finalarraytotheuserstelephonewpp);\n    window.open(finalarraytotheuserstelephonewpp);\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"m-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Encontrou sua permuta?\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Fa\\xE7a-nos uma doa\\xE7\\xE3o\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=UV4KH7XC3U9ZQ&source=url\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"aqui!\"), \" \", \";)\"), /*#__PURE__*/React.createElement(\"a\", {\n    link: true,\n    href: \"/editarperfil\",\n    onClick: handleEditar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Editar cadastro\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Ocultar minha permuta\")))), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"Voc\\xEA pode buscar por qualquer categoria no campo abaixo\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => handleSearchArray(e, search),\n    class: \"form-inline mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    onChange: e => setSearch(e.target.value),\n    className: \"form-control bg-light w-25\",\n    placeholder: \"Filtrar por batalh\\xE3o de interesse\",\n    font: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-success my-2 my-sm-0\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, \"Filtrar\")), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    hover: true,\n    bordered: true,\n    className: \"bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"\\xD3rg\\xE3o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, \"Matr\\xEDcula\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, \"Estado de Interesse\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"Batalh\\xE3o Atual\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Batalh\\xE3o de Interesse\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"Estado Atual\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, \"Combinar permuta \"))), users.map(user => /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, user.nome), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, user.orgao), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, user.matricula), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, user.estadoAtual), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, user.estadoInteresse), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, user.batalhaoAtual), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, user.batalhaoInteresse), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, user.estadoAtual), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      backgroundColor: \"yellow\",\n      color: \"red\",\n      borderRadius: \"18px\",\n      padding: \"6px\",\n      textAlign: \"center\",\n      boxShadow: \"1px 1px 2px #888\"\n    },\n    onClick: () => chamaNoZap(user.numero),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-whatsapp text-danger\",\n    style: {\n      fontSize: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, \" \", \"PermutEi!\"))))))));\n};\n\nexport default Hall;","map":{"version":3,"sources":["C:/Users/Digivox/dev/DathApp/PermutEi/PermutEi/frontend/src/pages/Hall/index.js"],"names":["React","useEffect","useState","useHistory","Table","Card","CardBody","Jumbotron","Container","Button","Input","api","Hall","handleEditar","e","localStorage","setItem","JSON","stringify","userMaster","history","users","setUsers","setUserMaster","search","setSearch","handleSearchArray","string","preventDefault","match","map","item","console","log","nome","toUpperCase","includes","push","alert","login","getItem","get","then","response","data","resp","user","orgao","chamaNoZap","numero","originalstringtowpp","firstarraytostringwpp","split","secondarraytostringwpp","usernumbertonewstringwpp","finalarraytotheuserstelephonewpp","window","open","target","value","matricula","estadoAtual","estadoInteresse","batalhaoAtual","batalhaoInteresse","backgroundColor","color","borderRadius","padding","textAlign","boxShadow","fontSize"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport \"./style.css\";\r\nimport {\r\n  Table,\r\n  Card,\r\n  CardBody,\r\n  Jumbotron,\r\n  Container,\r\n  Button,\r\n  Input\r\n} from \"reactstrap\";\r\n\r\nimport api from '../../services/api';\r\n\r\nconst Hall = () => {\r\n  \r\n  function handleEditar(e){\r\n\r\n    localStorage.setItem('user', JSON.stringify(userMaster));\r\n    //history.push('/editarperfil')\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [userMaster, setUserMaster] = useState({});\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const handleSearchArray = (e, string) => {\r\n    //history.push('/filtrar');\r\n    e.preventDefault();\r\n    let match = [];\r\n    users.map((item) => {\r\n        console.log(\"item.nome: \" + item.nome);\r\n        console.log(\"string:\" + string);\r\n        if(item.nome.toUpperCase().includes(string.toUpperCase())){\r\n          match.push(item);\r\n        }else{\r\n          alert(\"NADA ENCONTRADO\");\r\n        }\r\n    });\r\n    alert('match:' + match);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const login = JSON.stringify(localStorage.getItem('login'));\r\n    console.log(login);\r\n    api.get('/users').then(response => {\r\n        const data = [];\r\n        const resp = response.data;\r\n        console.log(resp);\r\n        let userMaster = {};\r\n        \r\n        if (login===\"null\") {\r\n          history.push(\"/logon\");\r\n        }\r\n\r\n        resp.map((user) => {\r\n          console.log(user.login)\r\n          if (JSON.stringify(user.login) === login) {\r\n            userMaster = user;\r\n            setUserMaster(user);\r\n          }\r\n        })\r\n        console.log(userMaster);\r\n\r\n        resp.map((user) => {\r\n          if (user.orgao === userMaster.orgao && user.login!==userMaster.login) {\r\n            data.push(user);\r\n          }\r\n        })\r\n        console.log(data);\r\n        setUsers(data);\r\n    })\r\n}, []);\r\n\r\n  function chamaNoZap(numero){\r\n    const originalstringtowpp =\r\n    \"https://wa.me/5583998304290?text=Olá,%20te%20encontrei%20no%20PermutEi%20e%20tenho%20interesse%20pela%20sua%20proposta!\";\r\n\r\n    const firstarraytostringwpp = originalstringtowpp.split(\"55\");\r\n    const secondarraytostringwpp = originalstringtowpp.split(\"?\");\r\n\r\n    const usernumbertonewstringwpp = numero;\r\n\r\n    const finalarraytotheuserstelephonewpp =\r\n      firstarraytostringwpp[0] +\r\n      \"55\" +\r\n      usernumbertonewstringwpp +\r\n      \"?\" +\r\n      secondarraytostringwpp[1];\r\n    \r\n    console.log(finalarraytotheuserstelephonewpp);\r\n\r\n    window.open(finalarraytotheuserstelephonewpp);\r\n  }\r\n\r\n  return (\r\n    <Card className=\"m-3\">\r\n      <div>\r\n        <Jumbotron fluid>\r\n          <Container fluid>\r\n            <h1 className=\"display-4\">Encontrou sua permuta?</h1>\r\n            <p className=\"lead\">\r\n              Faça-nos uma doação{\" \"}\r\n              <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=UV4KH7XC3U9ZQ&source=url\">\r\n                aqui!\r\n              </a>{\" \"}\r\n              ;)\r\n            </p>\r\n            <a link href=\"/editarperfil\" onClick={handleEditar}>\r\n              Editar cadastro\r\n            </a>\r\n            <br/>\r\n            <br/>\r\n            <Button onClick={() => {}}>\r\n              {/* {user.disponibilidade ? \"Ocultar minha permuta\" : \"Exibir disponibilidade de permuta\"} */}\r\n              Ocultar minha permuta\r\n          </Button>\r\n          </Container>\r\n        </Jumbotron>\r\n      </div>\r\n\r\n      <CardBody>\r\n        <p className=\"text-success\">\r\n          Você pode buscar por qualquer categoria no campo abaixo\r\n        </p>\r\n\r\n        <form onSubmit={(e) => handleSearchArray(e, search)} class=\"form-inline mb-3\">\r\n          <Input\r\n            type=\"text\"\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"form-control bg-light w-25\"\r\n            placeholder=\"Filtrar por batalhão de interesse\"\r\n            font\r\n          />\r\n          <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">\r\n            Filtrar\r\n          </button>\r\n        </form>\r\n\r\n        <Table responsive hover bordered className=\"bg-light\">\r\n          <thead>\r\n            <tr>\r\n              <th>Nome</th>\r\n              <th>Órgão</th>\r\n              <th>Matrícula</th>\r\n              <th>Estado</th>\r\n              <th>Estado de Interesse</th>\r\n              <th>Batalhão Atual</th>\r\n              <th>Batalhão de Interesse</th>\r\n              <th>Estado Atual</th>\r\n              <th>Combinar permuta </th>\r\n            </tr>\r\n          </thead>\r\n\r\n          {users.map((user) => (\r\n            <tbody>\r\n              <tr>\r\n                <td>{user.nome}</td>\r\n                <td>{user.orgao}</td>\r\n                <td>{user.matricula}</td>\r\n                <td>{user.estadoAtual}</td>\r\n                <td>{user.estadoInteresse}</td>\r\n                <td>{user.batalhaoAtual}</td>\r\n                <td>{user.batalhaoInteresse}</td>\r\n                <td>{user.estadoAtual}</td>\r\n                \r\n                <Button\r\n                  style={{\r\n                    backgroundColor: \"yellow\",\r\n                    color: \"red\",\r\n                    borderRadius: \"18px\",\r\n                    padding: \"6px\",\r\n                    textAlign: \"center\",\r\n                    boxShadow: \"1px 1px 2px #888\",\r\n                  }}\r\n                  onClick={() => chamaNoZap(user.numero)}\r\n                >\r\n                    <i\r\n                      class=\"fa fa-whatsapp text-danger\"\r\n                      style={{ fontSize: 24 }}\r\n                    >\r\n                      {\" \"}\r\n                      PermutEi!\r\n                    </i>\r\n                </Button>\r\n              </tr>\r\n          </tbody>\r\n          ))}\r\n        </Table>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Hall;\r\n"]},"metadata":{},"sourceType":"module"}